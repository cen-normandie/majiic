<?php
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);
$location = __DIR__ .'../download/pdf/';
$stylesheet = file_get_contents('../bootstrap-5.0.0/css/bootstrap.min.css');

$html = '
<table class="table table-striped text-secondary fs-4"><thead><tr class="headerrow"><th>Col and Row Header</th><td><p style="color:#000">Second column header</p></td><td>Third column header</td></tr></thead><tfoot><tr class="footerrow"><th>Col and Row Footer</th><td><p>Second column footer</p></td><td>Third column footer</td></tr></tfoot><tbody><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Charlotte Delaune</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Clément Blaise Duhaut</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Hana Ghlouci</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Hana Ghlouci</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Jérémy Lebrun</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Marie-Laure Séguin</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Marie-Laure Séguin</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Marie-Laure Séguin</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Marie-Laure Séguin</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Marie-Laure Séguin</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Mireille Pellevilain</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Mireille Pellevilain</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Mireille Pellevilain</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Mireille Pellevilain</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Mireille Pellevilain</th><td>2220</td><td>PRAT_2024</td></tr><tr><th>Mireille Pellevilain</th><td>2220</td><td>PRAT_2024</td></tr></tbody></table>';
//echo __DIR__;

$envRoot = getenv('MPDF_ROOT');
$path = $envRoot ?: __DIR__;
//echo $path;
require_once $path . '/../vendor/autoload.php';

$mpdf = new \Mpdf\Mpdf(['tempDir' => __DIR__ . '../download/pdf/']);
$mpdf->mirrorMargins = true;
$mpdf->WriteHTML($stylesheet, \Mpdf\HTMLParserMode::HEADER_CSS);
$mpdf->WriteHTML($html, \Mpdf\HTMLParserMode::HTML_BODY);



//$mpdf->WriteHTML($html);

$mpdf->Output('/var/www/html/majiic/download/pdf/test.pdf', \Mpdf\Output\Destination::FILE);
